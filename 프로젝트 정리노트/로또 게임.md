# :pushpin: 자바 콘솔 프로그램 만들기 - 로또 게임
[1 단계](#1-단계) <br>
[2 단계](#2-단계) <br>
[3 단계](#3-단계) <br>
[4 단계](#4-단계) <br>


## 1 단계
### 로또 번호를 생성해보기

+ 기능 요구 사항
  + 구입할 로또 개수를 입력하여 로또를 산다.

+ 프로그램 요구사항
  + 입력  : Scanner 사용
  + 로또 번호에 중복된 숫자가 없어야 한다.

+ 실행 화면 <br> ![로또버전1캡처](https://user-images.githubusercontent.com/57389368/152634899-8ec651e2-2e6b-4ef7-8fdb-a8b14dcac329.JPG)

+ [전체 코드](https://github.com/Kim-Gyuri/JavaConsoleProject/blob/master/src/console/LottoV1/LottoMain.java) <br>
> 코드설명은 주석으로 달았다.

### 생각정리 
```java
    //로직: 랜덤으로 판매할 로또를 만든다.
    public String lottoNum() {
        Random random = new Random();
        int[] num = new int[45];
       
        for (int i=0; i<num.length; i++) {
            num[i] = i+1;
        }
        int[] LottoNum = new int[6];
        for (int i=0; i<LottoNum.length; i++) {
            int seq = random.nextInt(45-i); //45범위 안에서 점점 좁힌다

            LottoNum[i] = num[seq]; //배열 범위에 맞는 값을 로또 번호로 대입한다.

            //뽑힌 값은 맨뒤로 보내고 i가 커짐에 따라 num 배열범위가 좁혀진다.
            int temp = num[seq];
            num[seq] = num[45-1-i];
            num[45-1-i] = temp;
        }
        return Arrays.toString(LottoNum);
    }
```

+ num[] 배열에 1~45를 넣는다.
+ 로또는 크기가 6인 배열 LottoNum[]이다. 
+ Random 클래스를 사용해 45범위 내 숫자를 뽑는다.
+ LottoNum[]에 뽑은 숫자를 넣는다.

 <br>

`더 추가하고 싶은 것` <br>
+ 로또 객체를 만들어 구매한 로또를 관리할 수 있도록 만들어야겠다는 생각이 들었다.
+ 로또 생성 메소드의 반환 타입을 로또 객체로 만들면 더 좋은 코드가 될 것 같다.


## 2 단계
### 당첨 번호를 생성해보기
+ 기능 요구 사항
  + 당첨번호는 보너스 번호를 포함하여 7개이다.

+ 프로그램 요구사항
  + 중복번호가 없어야 한다.
  + 당첨 볼을 객체로 만들어야 한다.

+ 실행 화면 <br>
![로또게임 사진_2](https://user-images.githubusercontent.com/57389368/213085097-e56cacbf-2e23-43aa-a212-4df831cd8a0a.png)

+ 전체코드 <br> [링크](https://github.com/Kim-Gyuri/JavaConsoleProject/tree/master/src/console/LottoV2) <br>
> 코드설명은 주석으로 달았다.

### 생각정리
처음 생각했을 때, "당첨 공(객체)을 만들고 공을 섞어주고, 공 7을 뽑으면 되겠다"라고 생각했다.
```
Ball            :당첨 공(번호) 객체
↓
LottoCalculator :볼을 섞어주는 메소드
↓
GameStart       :당첨 볼을 뽑는다
↓
LottoMain       :실행
```

#### 일부 코드
```java
# Ball :객체 
public class Ball {
    private int number;
    public Ball() { }
    public int getNumber() {
        return number;
    }
    public void setNumber(int number) {
        this.number = number;
    }
}


# LottoCalculator :Ball을 섞는다.
public class LottoCalculator {
    private List<Ball> balls = new ArrayList<>();
    private int cnt = 0;
    private int MAX_NUM = 45;

    // 45 범위 내의 Ball 세팅한다.
    public LottoCalculator() {
        for (int i=1; i<=MAX_NUM; i++) {
            Ball ball = new Ball();
            ball.setNumber(i);
            balls.add(ball);
        }
    }
    
    // Ball 순서를 섞어준다.
    public void setBalls() {       
        Collections.shuffle(balls);
    }  

    // Ball을 뽑는다.
    public int getBall() {
        return balls.get(cnt++).getNumber();
    }

}
    
    
# GameStart :로또 추첨 
    public void start() {
        System.out.println("로또 추첨을 시작합니다.");
        LottoCalculator lc = new LottoCalculator();
        lc.setBalls();

        System.out.println("볼을 꺼냅니다.");
        for (int i=0; i<=6; i++) {
            ball[i] = lc.getBall();
            ...
            

# LottoMain :실행
        GameStart gs = new GameStart();
        gs.start();
```    

+ 로또 당첨 공 객체인 Ball을 만들고, LottoCalculator()를 통해 공을 섞는다.
+ Start()로 보너스 번호를 포함하여 7개를 뽑는다.
  
<br>
  
`더 추가하고 싶은 것` <br>
+ 구매한 로또 객체와 당첨공 객체를 어떻게 구별해야 할지 고민이다.
+ 추가로, 구매한 로또를 가지고 이번 달 로또에 당첨되었는지 확인하여 당첨금을 받도록 만들어보자.

## 3 단계
### 로또 구매 + 번호 추첨 + 상금확인 시스템 만들기
+ 기능 요구 사항
  + 구입할 로또 개수를 입력하여 로또를 구매한다.

+ 프로그램 요구사항
  + 입력  : Scanner 사용
  + 외부 클래스 메서드 호출
  + 로또 번호에 중복된 숫자가 없어야 한다.
  + 구매한 로또 중에서 중복된 로또가 없어야 한다.
  + 랜덤 로또 생성 메소드를 만들어 로또 객체를 생성할 수 있다.
  + 로또, 추첨 공 객체를 만들어야 한다.
  + 구매한 로또와 이번 달 당첨 번호를 비교하여 당첨되었는지 확인하여 당첨금을 받는다.
  
+ 실행화면 <br>
![로또게임 사진_3_1](https://user-images.githubusercontent.com/57389368/213086241-eed80361-7e4a-4fb0-bb7a-489932314c60.png) <br>
![로또게임 사진_3_2](https://user-images.githubusercontent.com/57389368/213086456-e7dd2a17-170b-4d65-9552-d70bb2ade2b5.png)

+ 전체코드 <br> [링크](https://github.com/Kim-Gyuri/JavaConsoleProject/tree/master/src/console/Lotto) <br> 
> 코드설명은 주석으로 달았다.

### 생각정리
  + 추첨 공 번호와 로또 숫자는 같은 객체 Ball를 사용한다.
  + ArrayList의 contains() 메소드를 활용하면 어떤 값이 존재하는지 유무를 판단할 수 있다.

## 4 단계
### 3단계를 객체지향적으로 설계해보기
+ 기능 요구 사항
  + 구입할 로또 장수를 입력하면, 랜덤으로 생성된 N개의 로또를 발급받는다.
  +  로또 번호의 범위는 1~45이다.
  +  각 로또의 번호 개수는 6개이다.
  +  발급된 N개의 로또 번호들을 모두 출력한다.
  +  이번 주 당첨 번호는 랜덤으로 생성된다.
  +  당첨 계산을 한다. 
    + 일치된 개수를 센다.
    + 총 상금을 계산한다.
  
+ 프로그램 요구사항
  +  각 로직에 대한 테스트 코드를 작성한다.
  +  로또 숫자를 객체로 만든다.
  +  일급컬렉션을 알아보자.
  +  메소드 분리 + 클래스 분리
  
+ 실행 화면 <br>

![로또 게임 사진 _4_1](https://user-images.githubusercontent.com/57389368/213092525-0661ffab-1630-4b2b-8061-80a769e19918.png) 

![로또 게임 사진 _4_scan2](https://user-images.githubusercontent.com/57389368/213100846-62aacf99-eb7d-4ba8-bca5-a7c1350092af.png) 

<br><br>

### 로또 추첨하는 방식에 따른 실행 결과
+ 추첨 번호와 보너스 번호를 1줄로 입력했을 경우 

![로또 게임 사진 _4_scan1](https://user-images.githubusercontent.com/57389368/213101391-9f2b000e-b5cb-4d1b-ab25-0977c7c903d4.JPG) <br>

<br>

+ 추첨 번호와 보너스 번호를 랜덤으로 뽑는 경우 

![로또 게임 사진 _4_Auto](https://user-images.githubusercontent.com/57389368/213101451-1dcff5a7-84a4-4d9d-8b59-6c42b8b88365.JPG)





  
